<div class="search-container">
  <header class="search-header">
    <button class="btn-back" (click)="goBack()">‚Üê Back</button>
    <h1>Search Users</h1>
  </header>

  <div class="search-content">
    <div class="search-box">
      <input 
        type="text" 
        [(ngModel)]="searchTerm" 
        (keyup.enter)="onSearch()"
        placeholder="Search by name or email..."
        class="search-input">
      <button 
        (click)="onSearch()" 
        [disabled]="isLoading"
        class="btn-search">
        {{ isLoading ? 'Searching...' : 'Search' }}
      </button>
    </div>

    <div class="error-message" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>

    <div class="search-results" *ngIf="users.length > 0">
      <p class="results-count">Found {{ totalResults }} user(s)</p>
      
      <div class="user-list">
        <div class="user-card" *ngFor="let user of users" (click)="viewProfile(user.id)">
          <div class="user-avatar" *ngIf="user.photoUrl">
            <img [src]="user.photoUrl" [alt]="user.displayName">
          </div>
          
          <div class="user-info">
            <h3>{{ user.displayName }}</h3>
            <p class="user-email">{{ user.email }}</p>
            <p class="user-location" *ngIf="user.location">üìç {{ user.location }}</p>
            <div class="user-skills" *ngIf="user.skills && user.skills.length > 0">
              <span class="skill-tag" *ngFor="let skill of user.skills.slice(0, 3)">{{ skill }}</span>
              <span class="more-skills" *ngIf="user.skills.length > 3">+{{ user.skills.length - 3 }} more</span>
            </div>
          </div>
        </div>
      </div>

      <div class="pagination" *ngIf="totalPages > 1">
        <button 
          (click)="previousPage()" 
          [disabled]="currentPage === 1 || isLoading"
          class="btn-page">
          Previous
        </button>
        <span class="page-info">Page {{ currentPage }} of {{ totalPages }}</span>
        <button 
          (click)="nextPage()" 
          [disabled]="currentPage === totalPages || isLoading"
          class="btn-page">
          Next
        </button>
      </div>
    </div>

    <div class="no-results" *ngIf="!isLoading && users.length === 0 && searchTerm">
      No users found matching "{{ searchTerm }}"
    </div>
  </div>
</div>
